<html>
<head>
	<meta charset="UTF-8">
	<title>Каменогорск. Уровень 2. Блок водоподготовки</title>
	<link rel="stylesheet" href="/leaflet.css" />
<link rel="stylesheet" href="/css/areal.css" />
	<script src="/leaflet.js" type="text/javascript"></script>
	<script src="./dist/PruneCluster.js" type="text/javascript"></script>
	<script src="./layer/Marker.Text.js" type="text/javascript"></script>
	<script src="./jquery-2.1.1.min.js" type="text/jscript"></script>
	
	<script src="./draw/src/leaflet.circle.topolygon-src.js"></script>
	<script src="./draw/src/Leaflet.draw.js"></script>
    <script src="./draw/src/Leaflet.Draw.Event.js"></script>
    <link rel="stylesheet" href="./draw/src/leaflet.draw.css"/>

    <script src="./draw/src/Toolbar.js"></script>
    <script src="./draw/src/Tooltip.js"></script>

    <script src="./draw/src/ext/GeometryUtil.js"></script>
    <script src="./draw/src/ext/LatLngUtil.js"></script>
    <script src="./draw/src/ext/LineUtil.Intersect.js"></script>
    <script src="./draw/src/ext/Polygon.Intersect.js"></script>
    <script src="./draw/src/ext/Polyline.Intersect.js"></script>
    <script src="./draw/src/ext/TouchEvents.js"></script>

    <script src="./draw/src/draw/DrawToolbar.js"></script>
    <script src="./draw/src/draw/handler/Draw.Feature.js"></script>
    <script src="./draw/src/draw/handler/Draw.SimpleShape.js"></script>
    <script src="./draw/src/draw/handler/Draw.Polyline.js"></script>
    <script src="./draw/src/draw/handler/Draw.Circle.js"></script>
    <script src="./draw/src/draw/handler/Draw.Marker.js"></script>
    <script src="./draw/src/draw/handler/Draw.Polygon.js"></script>
    <script src="./draw/src/draw/handler/Draw.Rectangle.js"></script>


    <script src="./draw/src/edit/EditToolbar.js"></script>
    <script src="./draw/src/edit/handler/EditToolbar.Edit.js"></script>
    <script src="./draw/src/edit/handler/EditToolbar.Delete.js"></script>

    <script src="./draw/src/Control.Draw.js"></script>

    <script src="./draw/src/edit/handler/Edit.Poly.js"></script>
    <script src="./draw/src/edit/handler/Edit.SimpleShape.js"></script>
    <script src="./draw/src/edit/handler/Edit.Circle.js"></script>
    <script src="./draw/src/edit/handler/Edit.Rectangle.js"></script>
    <script src="./draw/src/edit/handler/Edit.Marker.js"></script>
	
	<script src="./dist/easy-button.js" type="text/javascript"></script>
	<link rel="stylesheet" href="./dist/easy-button.css"/>
	<script src="./dist/jQuery.print.js" type="text/javascript"></script>
	
	
	
</head>
<body oncontextmenu="return false">
	<div style="position:absolute; top:0px; left:0px; height:30px; width:1000px; background: #bfbfbf; padding:10px; overflow-y: scroll;" id="brief"><table border="0"><tr>	<td width="90px" ><span id="vP1">?</span></td>	<td width="90px" ><span id="vP2">?</span></td>	<td width="90px" ><span id="vP3">?</span></td>	<td width="90px" ><span id="vP4">?</span></td>	<td width="90px" ><span id="vP5">?</span></td>	<td width="90px" ><span id="vP6">?</span></td>	<td width="90px" ><span id="vP7">?</span></td>	<td width="90px" ><span id="vP8">?</span></td>	<td width="90px" ><span id="vP9">?</span></td>	<td width="90px" ><span id="vP0">?</span></td>	</tr></table>	</div>	<div style="position:absolute; width:1000px; bottom:0px; top:50px;" id="map"></div>
	<div style="position:absolute; width:990px; bottom:0px; top:0px; left:0px; background: #aeaeae; padding:10px; display:none; z-index:1200; "  id="detail">
		<h1><a href="#" onclick=' $("#detail").hide(); return false;' ><img src="images/close.png" alt="Закрыть" border="0" width="30px" height="30px" /></a> Детальная информация</h1>
		<hr>
		<div id="detail_info">
		</div>
	</div>
	<div style="position:absolute; top:0px; left:1008px; right:0px; bottom:0px; background: #bfbfbf; padding:10px;  overflow-y: scroll;" id="brief">
<h1>
	<a href="level1.html"><img src="images\home.png" alt="Главный экран" width="50px"; height="50px"; /></a>
	<img src="/images/areal.logo.png" border="0"; width="250px"; height="50px";  align="right" />
	</h1>
	<a href="level2.8.html"><h2>Блок водоподготовки</h2></a>
	<h2>Реагенты (ШУ 18)</h2>
	<!--
	<h3> Датчики </h3>
	<ul>
	<li><a href="#" onclick='GetDitail("83.41");'>LE41a : <span id="v83.41">?</span></a></li>
	<li><a href="#" onclick='GetDitail("83.42");'>LE42a : <span id="v83.42">?</span></a></li>
	<li><a href="#" onclick='GetDitail("83.43");'>LE43a : <span id="v83.43">?</span></a></li>
	<li><a href="#" onclick='GetDitail("83.44");'>LE44a : <span id="v83.44">?</span></a></li>
	<li><a href="#" onclick='GetDitail("83.45");'>LE45a : <span id="v83.45">?</span></a></li>
	<li><a href="#" onclick='GetDitail("83.46");'>LE46a : <span id="v83.46">?</span></a></li>
	<li><a href="#" onclick='GetDitail("83.47");'>LE47a : <span id="v83.47">?</span></a></li>
	<li><a href="#" onclick='GetDitail("83.48");'>LE48a : <span id="v83.48">?</span></a></li>
	<li><a href="#" onclick='GetDitail("83.49");'>LE49a : <span id="v83.49">?</span></a></li>
	<li><a href="#" onclick='GetDitail("83.50");'>LE50a : <span id="v83.50">?</span></a></li>
	<li><a href="#" onclick='GetDitail("83.51");'>LE51a : <span id="v83.51">?</span></a></li>

	</ul>
	-->
	
	<h3> Управление </h3>
	<ul>
	<li><a href="#" onclick='GetDitail("83.21");'> 7M2.1 : <span id="v83.21">?</span></a></li>
	<li><a href="#" onclick='GetDitail("83.22");'> 7M3.1 : <span id="v83.22">?</span></a></li>
	<li><a href="#" onclick='GetDitail("83.23");'> 7M2.2 : <span id="v83.23">?</span></a></li>
	<li><a href="#" onclick='GetDitail("83.24");'> 7M3.2 : <span id="v83.24">?</span></a></li>
	<li><a href="#" onclick='GetDitail("83.25");'> 7M2.3 : <span id="v83.25">?</span></a></li>
	<li><a href="#" onclick='GetDitail("83.26");'> 7M3.3 : <span id="v83.26">?</span></a></li>
	<li><a href="#" onclick='GetDitail("83.27");'> 6.2.2M1 : <span id="v83.27">?</span></a></li>
	<li><a href="#" onclick='GetDitail("83.28");'> 6.1.2M1 : <span id="v83.28">?</span></a></li>
	<li><a href="#" onclick='GetDitail("83.29");'> 6.1.3M1  : <span id="v83.29">?</span></a></li>
	<li><a href="#" onclick='GetDitail("83.30");'> 6.2.2M2  : <span id="v83.30">?</span></a></li>
	<li><a href="#" onclick='GetDitail("83.31");'> 6.1.2M2  : <span id="v83.31">?</span></a></li>
	<li><a href="#" onclick='GetDitail("83.32");'> 6.1.3M2  : <span id="v83.32">?</span></a></li>
	<li><a href="#" onclick='GetDitail("83.33");'> 9.2.2M1  : <span id="v83.33">?</span></a></li>
	<li><a href="#" onclick='GetDitail("83.34");'> 9.1.2M1  : <span id="v83.34">?</span></a></li>
	<li><a href="#" onclick='GetDitail("83.35");'> 9.2.3M1  : <span id="v83.35">?</span></a></li>
	<li><a href="#" onclick='GetDitail("83.36");'> 9.2.2M2  : <span id="v83.36">?</span></a></li>
	<li><a href="#" onclick='GetDitail("83.37");'> 9.1.2M2  : <span id="v83.37">?</span></a></li>
	<li><a href="#" onclick='GetDitail("83.38");'> 9.1.3M2  : <span id="v83.38">?</span></a></li>
	</ul>
	
	</div>
<script type='text/javascript'>
function GetDitail(sid){
 return; 

	$("#detail").show(); 
	var item=document.getElementById('detail_info');
	if( item!=null){
		item.innerHTML =sid;
	}else{
		console.log(v.ID);
	}
	return false;
}
	var imgW=1291;
	var imgH=609;

	var imageUrl = './images/l2_8.3.png', imageBounds = [[-imgH/20, -imgW/20], [imgH/20, imgW/20]];
	
	var map = L.map('map', { minZoom: 2, maxZoom: 7,attributionControl:false});  //.setView([27, 44], 3);
    map.attributionControl = false;
    L.imageOverlay(imageUrl, imageBounds, { opacity: 1 }).addTo(map); // , attribution: 'Цех:<%=GetC()%>'
	map.setView([0, 0], 4);
	map.fitBounds(imageBounds);
	map.setMaxBounds([[-imgH/15, -imgW/15], [imgH/15, imgW/15]])
		L.easyButton({
	  id: 'id-map-print',  // an id for the generated button
	  position: 'topleft',      // inherited from L.Control -- the corner it goes in
	  type: 'replace',          // set to animate when you're comfy with css
	  leafletClasses: true,     // use leaflet classes to style the button?
	  states:[{                 // specify different icons and responses for your button
		stateName: 'map-print',
		onClick: function(button, map){
			$('#map').print();
		},
		title: 'Печать',
		icon: '<img src="/images/print.png" width="18px;" height="18px">'
	  }]
	}).addTo( map );
	
	/* var  drawnItems = L.featureGroup().addTo(map);
	
	
    map.addControl(new L.Control.Draw({
        edit: {
            featureGroup: drawnItems,
            poly: {
                allowIntersection: false
            }
        },
        draw: {
            polygon: {
                allowIntersection: false,
                showArea: true
            }
        }
    }));
	*/
	

	var rgb = '#00FF00'; // green
	var bounds;
    map.on(L.Draw.Event.CREATED, function (event) {
        var layer = event.layer;
        var s ="";
		if(typeof layer.toPolygon =='undefined'){
			s= JSON.stringify(layer.toGeoJSON()) ;
			drawnItems.addLayer(layer);
		}else{
			
			//alert ( JSON.stringify(layer.toPolygon(24,map)) );
			bounds=layer.toPolygon(24,map);
			var player= L.polygon( bounds, {  color: rgb, opacity: 1.0, fillOpacity: 1, weight: 1 } );
			s= JSON.stringify(player.toGeoJSON());
			drawnItems.addLayer(player);
		}
		
		$.ajax({
		  type: 'GET',
		  url: 'savelayer.aspx',
		  data: 'P=l2_83&L=' +s,
		  success: function(data){
			//$('.results').html(data);
		  }
		});
		
    });
	
	
	
	
	
	
	map.on('contextmenu',function(event){ }); 
 var stanki =[];
	var blink=true;
	  
	    function MapX(X) {
            var mx = parseInt(X);
            mx = mx / 10 -imgW/20;
            return mx;
        }

        function MapY(Y) {
            var my = parseInt(Y);
            my =  imgH/20 - my / 10;
            return my;
        }
	
	var rect;
	var bounds;
	var rgb = '#dddddd';
	var marker;
	
	function RCW(deviceID, QReg, Reg1, Bit1, Val1, Reg2, Bit2, Val2) {
	    $.ajax({
	        dataType: "json",
	        type: 'POST',
	        url: 'rcw.aspx',
	        data: 'id=' + deviceID + '&qreg=' + QReg + '&reg1=' + Reg1 + '&bit1=' + Bit1 + '&val1=' + Val1 + '&reg2=' + Reg2 + '&bit2=' + Bit2 + '&val2=' + Val2,
	        success: function (data) {
	            map.closePopup();
	        }
	    });
	}
	
	function FlipLL(b) {
		var fb;
		var point;
		var j;
		fb=[];
		for (j = 0; j < b.length; j++) {
			 point =new  L.latLng(
			  b[j][1],               
			  b[j][0],               
               b[j][2]             
            );
			fb.push(point)
		}
		return fb;
	}

    /*
	bounds=FlipLL([[-59.324565746733015,11.188330453169991,0],[-59.65067317006266,11.053252335636305,0],[-59.93070796300704,10.838374081436985,0],[-60.14558621720636,10.558339288492608,0],[-60.280664334740045,10.232231865162959,0],[-60.32673696512532,9.882275493429953,0],[-60.280664334740045,9.532319121696947,0],[-60.14558621720636,9.206211698367298,0],[-59.93070796300704,8.92617690542292,0],[-59.65067317006266,8.7112986512236,0],[-59.324565746733015,8.576220533689915,0],[-58.97460937500001,8.530147903304641,0],[-58.624653003267,8.576220533689915,0],[-58.298545579937354,8.7112986512236,0],[-58.01851078699298,8.92617690542292,0],[-57.80363253279366,9.206211698367298,0],[-57.66855441525997,9.532319121696947,0],[-57.622481784874694,9.882275493429953,0],[-57.66855441525997,10.232231865162959,0],[-57.80363253279366,10.558339288492608,0],[-58.01851078699298,10.838374081436985,0],[-58.29854557993735,11.053252335636305,0],[-58.624653003267,11.188330453169991,0],[-59.324565746733015,11.188330453169991,0]]);
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.41';
	//rect.bindPopup('Датчик 1');
	rect.bindTooltip('Датчик 1');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	 
	
	bounds=FlipLL([[-38.427621050051364,11.223497170484515,0],[-38.77331977220962,11.08030407127152,0],[-39.07017799485382,10.852516745433155,0],[-39.297965320692185,10.555658522788953,0],[-39.44115841990518,10.209959800630703,0],[-39.48999891941922,9.838979375579344,0],[-39.44115841990518,9.467998950527985,0],[-39.297965320692185,9.122300228369737,0],[-39.07017799485382,8.825442005725533,0],[-38.77331977220962,8.597654679887167,0],[-38.427621050051364,8.454461580674172,0],[-38.05664062500001,8.405621081160128,0],[-37.68566019994865,8.454461580674172,0],[-37.339961477790396,8.597654679887167,0],[-37.04310325514619,8.825442005725533,0],[-36.81531592930783,9.122300228369737,0],[-36.672122830094835,9.467998950527985,0],[-36.62328233058079,9.838979375579344,0],[-36.672122830094835,10.209959800630703,0],[-36.81531592930783,10.555658522788951,0],[-37.04310325514619,10.852516745433155,0],[-37.339961477790396,11.080304071271518,0],[-37.68566019994864,11.223497170484514,0],[-38.427621050051364,11.223497170484515,0]]) ;
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.42';
	//rect.bindPopup('Датчик 2');
	rect.bindTooltip('Датчик 2');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	
	bounds=FlipLL([[-16.9031720413574,11.135457956160131,0],[-17.2160777891861,11.005848151664987,0],[-17.484776046372787,10.799668727302734,0],[-17.690955470735037,10.530970470116053,0],[-17.82056527523018,10.21806472228735,0],[-17.864772765872203,9.882275493429953,0],[-17.82056527523018,9.546486264572557,0],[-17.690955470735037,9.233580516743853,0],[-17.484776046372787,8.964882259557172,0],[-17.2160777891861,8.758702835194919,0],[-16.9031720413574,8.629093030699774,0],[-16.567382812500004,8.584885540057753,0],[-16.231593583642606,8.629093030699774,0],[-15.918687835813904,8.758702835194919,0],[-15.649989578627222,8.964882259557172,0],[-15.44381015426497,9.233580516743853,0],[-15.314200349769825,9.546486264572556,0],[-15.269992859127804,9.882275493429953,0],[-15.314200349769825,10.218064722287348,0],[-15.44381015426497,10.530970470116053,0],[-15.64998957862722,10.799668727302734,0],[-15.918687835813902,11.005848151664985,0],[-16.231593583642606,11.135457956160131,0],[-16.9031720413574,11.135457956160131,0]]);
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.43';
	//rect.bindPopup('Датчик 3');
	rect.bindTooltip('Датчик 3');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	
	
	bounds=FlipLL([[5.00716070848142,11.160750168412093,0],[4.677129216109252,11.024046648261308,0],[4.39372474868583,10.806582751893513,0],[4.176260852318035,10.523178284470092,0],[4.03955733216725,10.193146792097924,0],[3.9929303072185034,9.838979375579344,0],[4.03955733216725,9.484811959060764,0],[4.176260852318035,9.154780466688596,0],[4.39372474868583,8.871375999265174,0],[4.677129216109252,8.65391210289738,0],[5.00716070848142,8.517208582746594,0],[5.361328125,8.470581557797848,0],[5.715495541518581,8.517208582746594,0],[6.045527033890749,8.65391210289738,0],[6.3289315013141705,8.871375999265174,0],[6.546395397681965,9.154780466688596,0],[6.68309891783275,9.484811959060764,0],[6.729725942781497,9.838979375579344,0],[6.68309891783275,10.193146792097924,0],[6.546395397681966,10.523178284470092,0],[6.3289315013141705,10.806582751893512,0],[6.04552703389075,11.024046648261308,0],[5.715495541518583,11.160750168412093,0],[5.00716070848142,11.160750168412093,0]]);
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.44';
	//rect.bindPopup('Датчик 4');
	rect.bindTooltip('Датчик 4');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	
	bounds=FlipLL([[23.826538125875164,11.327807230661826,0],[23.46560489970852,11.178303793272526,0],[23.15566451189297,10.940478169036988,0],[22.91783888765743,10.630537781221435,0],[22.768335450268133,10.26960455505479,0],[22.71734261191704,9.882275493429953,0],[22.768335450268133,9.494946431805115,0],[22.91783888765743,9.134013205638471,0],[23.15566451189297,8.824072817822918,0],[23.46560489970852,8.58624719358738,0],[23.826538125875167,8.43674375619808,0],[24.213867187500004,8.385750917846988,0],[24.601196249124843,8.43674375619808,0],[24.962129475291487,8.586247193587381,0],[25.27206986310704,8.82407281782292,0],[25.509895487342575,9.134013205638471,0],[25.659398924731875,9.494946431805115,0],[25.710391763082967,9.882275493429953,0],[25.659398924731875,10.26960455505479,0],[25.509895487342575,10.630537781221435,0],[25.27206986310704,10.940478169036986,0],[24.962129475291487,11.178303793272525,0],[24.601196249124843,11.327807230661826,0],[23.826538125875164,11.327807230661826,0]]);
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.45';
	//rect.bindPopup('Датчик 5');
	rect.bindTooltip('Датчик 5');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	 
	
	bounds=FlipLL([[39.385346204890126,11.112415925299826,0],[39.0673832364054,10.980711351421043,0],[38.7943422453894,10.771199630189948,0],[38.584830524158306,10.498158639173951,0],[38.45312595027952,10.180195670689223,0],[38.40820397281079,9.838979375579344,0],[38.45312595027952,9.497763080469465,0],[38.584830524158306,9.179800111984736,0],[38.7943422453894,8.90675912096874,0],[39.0673832364054,8.697247399737645,0],[39.385346204890126,8.565542825858861,0],[39.72656250000001,8.520620848390127,0],[40.06777879510989,8.565542825858861,0],[40.385741763594616,8.697247399737645,0],[40.65878275461061,8.90675912096874,0],[40.86829447584171,9.179800111984736,0],[40.99999904972049,9.497763080469465,0],[41.044921027189226,9.838979375579344,0],[40.99999904972049,10.180195670689223,0],[40.86829447584171,10.498158639173951,0],[40.65878275461061,10.771199630189948,0],[40.385741763594616,10.980711351421041,0],[40.06777879510989,11.112415925299826,0],[39.385346204890126,11.112415925299826,0]]) ;
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.46';
	//rect.bindPopup('Датчик 6');
	rect.bindTooltip('Датчик 6');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	
	bounds=FlipLL([[58.170529992147124,11.199783095660013,0],[57.83075241119354,11.059042613438713,0],[57.53897878777222,10.83515683780713,0],[57.315093012140636,10.543383214385818,0],[57.17435252991934,10.203605633432227,0],[57.12634857238706,9.838979375579344,0],[57.17435252991934,9.474353117726462,0],[57.315093012140636,9.134575536772871,0],[57.53897878777222,8.842801913351558,0],[57.83075241119354,8.618916137719975,0],[58.170529992147124,8.478175655498674,0],[58.53515625000001,8.430171697966397,0],[58.89978250785289,8.478175655498674,0],[59.239560088806485,8.618916137719975,0],[59.53133371222779,8.842801913351558,0],[59.75521948785938,9.134575536772871,0],[59.895959970080675,9.47435311772646,0],[59.943963927612955,9.838979375579344,0],[59.895959970080675,10.203605633432225,0],[59.75521948785938,10.543383214385816,0],[59.53133371222779,10.83515683780713,0],[59.239560088806485,11.059042613438713,0],[58.89978250785289,11.199783095660013,0],[58.170529992147124,11.199783095660013,0]]);
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.47';
	//rect.bindPopup('Датчик 7');
	rect.bindTooltip('Датчик 7');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	
	
	bounds=FlipLL([[-54.09874143335608,-10.80552056600847,0],[-54.428266771248765,-10.942014430109197,0],[-54.71123659396704,-11.159144811864547,0],[-54.92836697572239,-11.442114634582818,0],[-55.06486083982311,-11.771639972475501,0],[-55.11141635499753,-12.125264218331578,0],[-55.06486083982311,-12.478888464187655,0],[-54.92836697572239,-12.808413802080338,0],[-54.71123659396704,-13.09138362479861,0],[-54.428266771248765,-13.30851400655396,0],[-54.09874143335608,-13.445007870654686,0],[-53.74511718750001,-13.491563385829098,0],[-53.39149294164393,-13.445007870654686,0],[-53.06196760375125,-13.30851400655396,0],[-52.77899778103298,-13.091383624798608,0],[-52.561867399277624,-12.808413802080338,0],[-52.4253735351769,-12.478888464187655,0],[-52.378818020002484,-12.125264218331578,0],[-52.4253735351769,-11.771639972475501,0],[-52.561867399277624,-11.442114634582818,0],[-52.77899778103298,-11.159144811864548,0],[-53.06196760375124,-10.942014430109197,0],[-53.391492941643925,-10.80552056600847,0],[-54.09874143335608,-10.80552056600847,0]]);
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.48';
	//rect.bindPopup('Датчик 8');
	rect.bindTooltip('Датчик 8');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	
	bounds=FlipLL([[-35.184461650772256,-10.750889251306766,0],[-35.53835482077583,-10.897476601953457,0],[-35.84224977531111,-11.130663402079016,0],[-36.07543657543667,-11.434558356614293,0],[-36.22202392608336,-11.788451526617871,0],[-36.27202214155166,-12.168225677390119,0],[-36.22202392608336,-12.547999828162366,0],[-36.07543657543667,-12.901892998165943,0],[-35.84224977531111,-13.205787952701222,0],[-35.53835482077583,-13.43897475282678,0],[-35.184461650772256,-13.585562103473471,0],[-34.80468750000001,-13.635560318941769,0],[-34.42491334922776,-13.585562103473471,0],[-34.071020179224185,-13.43897475282678,0],[-33.767125224688904,-13.205787952701222,0],[-33.533938424563345,-12.901892998165943,0],[-33.387351073916655,-12.547999828162366,0],[-33.337352858448355,-12.168225677390119,0],[-33.387351073916655,-11.788451526617871,0],[-33.533938424563345,-11.434558356614295,0],[-33.767125224688904,-11.130663402079016,0],[-34.07102017922418,-10.897476601953457,0],[-34.42491334922776,-10.750889251306768,0],[-35.184461650772256,-10.750889251306766,0]]);
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.49';
	//rect.bindPopup('Датчик 9');
	rect.bindTooltip('Датчик 9');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	 
	
	bounds=FlipLL([[-14.925671523534904,-10.66496338493409,0],[-15.279563701361228,-10.811550324607504,0],[-15.583457803894584,-11.044736470968994,0],[-15.816643950256074,-11.34863057350235,0],[-15.963230889929488,-11.702522751328674,0],[-16.013228965222456,-12.082295837363578,0],[-15.963230889929488,-12.462068923398482,0],[-15.816643950256074,-12.815961101224806,0],[-15.583457803894584,-13.119855203758162,0],[-15.279563701361228,-13.353041350119652,0],[-14.925671523534904,-13.499628289793066,0],[-14.5458984375,-13.549626365086034,0],[-14.166125351465096,-13.499628289793066,0],[-13.812233173638772,-13.35304135011965,0],[-13.508339071105414,-13.119855203758162,0],[-13.275152924743926,-12.815961101224806,0],[-13.128565985070512,-12.462068923398482,0],[-13.078567909777544,-12.082295837363578,0],[-13.128565985070512,-11.702522751328674,0],[-13.275152924743926,-11.348630573502351,0],[-13.508339071105414,-11.044736470968996,0],[-13.81223317363877,-10.811550324607506,0],[-14.166125351465094,-10.66496338493409,0],[-14.925671523534904,-10.66496338493409,0]]) ;
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.50';
	//rect.bindPopup('Датчик 10');
	rect.bindTooltip('Датчик 10');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	
	bounds=FlipLL([[3.9083724616260644,-10.845874795645937,0],[3.57819612749299,-10.982638311218487,0],[3.294667281629756,-11.200197646519873,0],[3.0771079463283693,-11.483726492383107,0],[2.9403444307558195,-11.813902826516182,0],[2.8936969424859793,-12.168225677390119,0],[2.940344430755819,-12.522548528264055,0],[3.0771079463283693,-12.85272486239713,0],[3.294667281629756,-13.136253708260364,0],[3.57819612749299,-13.35381304356175,0],[3.9083724616260644,-13.4905765591343,0],[4.262695312500001,-13.537224047404141,0],[4.617018163373938,-13.4905765591343,0],[4.947194497507012,-13.35381304356175,0],[5.230723343370246,-13.136253708260362,0],[5.4482826786716325,-12.852724862397128,0],[5.585046194244183,-12.522548528264055,0],[5.6316936825140225,-12.168225677390119,0],[5.585046194244183,-11.813902826516182,0],[5.4482826786716325,-11.48372649238311,0],[5.230723343370247,-11.200197646519875,0],[4.947194497507013,-10.982638311218489,0],[4.61701816337394,-10.845874795645937,0],[3.9083724616260644,-10.845874795645937,0]]);
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.51';
	//rect.bindPopup('Датчик 11');
	rect.bindTooltip('Датчик 11');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	*/
	
	//////////////////////////
	
	bounds=FlipLL([[-53.37400822579392,17.217040959297425,0],[-53.540071127493896,17.148255453206268,0],[-53.682672574030995,17.038833514753513,0],[-53.79209451248375,16.896232068216413,0],[-53.86088001857491,16.73016916651644,0],[-53.884341473737784,16.551961721972525,0],[-53.86088001857491,16.37375427742861,0],[-53.79209451248375,16.207691375728636,0],[-53.682672574030995,16.065089929191537,0],[-53.540071127493896,15.955667990738782,0],[-53.37400822579392,15.886882484647623,0],[-53.19580078125001,15.86342102948475,0],[-53.01759333670609,15.886882484647623,0],[-52.85153043500612,15.955667990738784,0],[-52.70892898846902,16.065089929191537,0],[-52.599507050016264,16.207691375728636,0],[-52.530721543925104,16.37375427742861,0],[-52.50726008876223,16.551961721972525,0],[-52.530721543925104,16.73016916651644,0],[-52.599507050016264,16.896232068216413,0],[-52.70892898846902,17.03883351475351,0],[-52.85153043500612,17.148255453206268,0],[-53.01759333670609,17.217040959297425,0],[-53.37400822579392,17.217040959297425,0]]);
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.21';
	rect.bindPopup(
	'<h3>Управление 1</h3><hr/>'+
	'<table class ="ctrl-popup" >'+
	'<tr><td>Пуск: </td><td><img src="/images/start.png"  onclick="RCW(403,1,\'C349\',0,1,0,0,0);"></td></tr>'+
	'<tr><td>Стоп: </td><td><img src="/images/stop.png"  onclick="RCW(403,1,\'C349\',0,0,0,0,0);"></td></tr>'+
	'</table><br/>' 
	);
	rect.bindTooltip('Управление 1');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	 
	
	bounds=FlipLL([[-50.43352620741538,16.51399800051602,0],[-50.60318039001759,16.443724937168863,0],[-50.748865739379085,16.331936636850646,0],[-50.86065403969731,16.18625128748915,0],[-50.93092710304446,16.01659710488694,0],[-50.954895936285176,15.834535741221565,0],[-50.93092710304446,15.65247437755619,0],[-50.86065403969731,15.48282019495398,0],[-50.748865739379085,15.337134845592486,0],[-50.60318039001759,15.225346545274267,0],[-50.43352620741538,15.15507348192711,0],[-50.25146484375001,15.131104648686396,0],[-50.06940348008463,15.15507348192711,0],[-49.89974929748242,15.225346545274267,0],[-49.75406394812093,15.337134845592486,0],[-49.642275647802705,15.48282019495398,0],[-49.572002584455554,15.652474377556189,0],[-49.54803375121484,15.834535741221565,0],[-49.572002584455554,16.01659710488694,0],[-49.642275647802705,16.18625128748915,0],[-49.75406394812093,16.331936636850646,0],[-49.89974929748242,16.443724937168863,0],[-50.06940348008463,16.51399800051602,0],[-50.43352620741538,16.51399800051602,0]]) ;
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.22';
	rect.bindPopup(
	'<h3>Управление 2</h3><hr/>'+
	'<table class ="ctrl-popup" >'+
	'<tr><td>Пуск: </td><td><img src="/images/start.png"  onclick="RCW(403,1,\'C349\',2,1,0,0,0);"></td></tr>'+
	'<tr><td>Стоп: </td><td><img src="/images/stop.png"  onclick="RCW(403,1,\'C349\',2,0,0,0,0);"></td></tr>'+
	'</table><br/>' 
	);
	rect.bindTooltip('Управление 2');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	
	bounds=FlipLL([[-32.481865623245675,17.231422384248884,0],[-32.65151940709019,17.161149486072567,0],[-32.7972044140307,17.049361448503216,0],[-32.90899245160005,16.903676441562713,0],[-32.97926534977636,16.734022657718192,0],[-33.00323412668038,16.551961721972525,0],[-32.97926534977636,16.36990078622686,0],[-32.90899245160005,16.200247002382337,0],[-32.7972044140307,16.054561995441833,0],[-32.65151940709019,15.94277395787248,0],[-32.481865623245675,15.872501059696168,0],[-32.29980468750001,15.848532282792153,0],[-32.11774375175434,15.872501059696168,0],[-31.94808996790982,15.942773957872483,0],[-31.802404960969316,16.054561995441833,0],[-31.690616923399965,16.20024700238234,0],[-31.62034402522365,16.36990078622686,0],[-31.596375248319635,16.551961721972525,0],[-31.62034402522365,16.73402265771819,0],[-31.690616923399965,16.90367644156271,0],[-31.802404960969316,17.049361448503216,0],[-31.94808996790982,17.161149486072567,0],[-32.11774375175434,17.23142238424888,0],[-32.481865623245675,17.231422384248884,0]]);
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.23';
	rect.bindPopup(
	'<h3>Управление 3</h3><hr/>'+
	'<table class ="ctrl-popup" >'+
	'<tr><td>Пуск: </td><td><img src="/images/start.png"  onclick="RCW(403,1,\'C349\',4,1,0,0,0);"></td></tr>'+
	'<tr><td>Стоп: </td><td><img src="/images/stop.png"  onclick="RCW(403,1,\'C349\',4,0,0,0,0);"></td></tr>'+
	'</table><br/>' 
	);
	rect.bindTooltip('Управление 3');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	 
	
	bounds=FlipLL([[-29.55950276991538,16.51399800051602,0],[-29.729156952517588,16.443724937168863,0],[-29.874842301879085,16.331936636850646,0],[-29.9866306021973,16.18625128748915,0],[-30.056903665544457,16.01659710488694,0],[-30.080872498785173,15.834535741221565,0],[-30.056903665544457,15.65247437755619,0],[-29.9866306021973,15.48282019495398,0],[-29.874842301879085,15.337134845592486,0],[-29.729156952517588,15.225346545274267,0],[-29.55950276991538,15.15507348192711,0],[-29.377441406250004,15.131104648686396,0],[-29.195380042584627,15.15507348192711,0],[-29.02572585998242,15.225346545274267,0],[-28.880040510620923,15.337134845592486,0],[-28.768252210302705,15.48282019495398,0],[-28.69797914695555,15.652474377556189,0],[-28.674010313714835,15.834535741221565,0],[-28.69797914695555,16.01659710488694,0],[-28.768252210302705,16.18625128748915,0],[-28.880040510620923,16.331936636850646,0],[-29.02572585998242,16.443724937168863,0],[-29.195380042584627,16.51399800051602,0],[-29.55950276991538,16.51399800051602,0]]) ;
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.24';
	rect.bindPopup(
	'<h3>Управление 4</h3><hr/>'+
	'<table class ="ctrl-popup" >'+
	'<tr><td>Пуск: </td><td><img src="/images/start.png"  onclick="RCW(403,1,\'C351\',0,1,0,0,0);"></td></tr>'+
	'<tr><td>Стоп: </td><td><img src="/images/stop.png"  onclick="RCW(403,1,\'C351\',0,0,0,0,0);"></td></tr>'+
	'</table><br/>' 
	);
	rect.bindTooltip('Управление 4');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	
	
	bounds=FlipLL([[-11.022382243107849,17.281600006299076,0],[-11.199306124915552,17.20831573494663,0],[-11.351234106508452,17.091737294441227,0],[-11.467812547013855,16.939809312848325,0],[-11.541096818366299,16.762885431040626,0],[-11.5660927185811,16.573022719182777,0],[-11.541096818366299,16.38316000732493,0],[-11.467812547013855,16.20623612551723,0],[-11.351234106508452,16.054308143924327,0],[-11.199306124915552,15.937729703418924,0],[-11.022382243107849,15.86444543206648,0],[-10.832519531250002,15.83944953185168,0],[-10.642656819392155,15.86444543206648,0],[-10.465732937584452,15.937729703418926,0],[-10.313804955991552,16.054308143924327,0],[-10.197226515486149,16.20623612551723,0],[-10.123942244133705,16.38316000732493,0],[-10.098946343918904,16.573022719182777,0],[-10.123942244133705,16.762885431040626,0],[-10.197226515486149,16.939809312848325,0],[-10.313804955991552,17.091737294441227,0],[-10.465732937584452,17.20831573494663,0],[-10.642656819392153,17.281600006299072,0],[-11.022382243107849,17.281600006299076,0]]);
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.25';
	rect.bindPopup(
	'<h3>Управление 5</h3><hr/>'+
	'<table class ="ctrl-popup" >'+
	'<tr><td>Пуск: </td><td><img src="/images/start.png"  onclick="RCW(403,1,\'C351\',2,1,0,0,0);"></td></tr>'+
	'<tr><td>Стоп: </td><td><img src="/images/stop.png"  onclick="RCW(403,1,\'C351\',2,0,0,0,0);"></td></tr>'+
	'</table><br/>' 
	);
	rect.bindTooltip('Управление 5');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	 
	
	bounds=FlipLL([[-8.070264058737566,16.59860706438178,0],[-8.239936040938423,16.52832662819946,0],[-8.385636675161791,16.416526599394217,0],[-8.497436703967034,16.270825965170847,0],[-8.567717140149357,16.10115398296999,0],[-8.591688488126843,15.919073517982426,0],[-8.567717140149357,15.736993052994862,0],[-8.497436703967034,15.567321070794005,0],[-8.385636675161793,15.421620436570635,0],[-8.239936040938423,15.309820407765391,0],[-8.070264058737564,15.23953997158307,0],[-7.888183593750001,15.215568623605582,0],[-7.706103128762437,15.23953997158307,0],[-7.536431146561579,15.309820407765391,0],[-7.39073051233821,15.421620436570635,0],[-7.2789304835329665,15.567321070794005,0],[-7.208650047350646,15.736993052994862,0],[-7.184678699373158,15.919073517982426,0],[-7.208650047350646,16.10115398296999,0],[-7.2789304835329665,16.270825965170847,0],[-7.390730512338209,16.416526599394217,0],[-7.536431146561579,16.52832662819946,0],[-7.706103128762436,16.59860706438178,0],[-8.070264058737566,16.59860706438178,0]]) ;
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.26';
	rect.bindPopup(
	'<h3>Управление 6</h3><hr/>'+
	'<table class ="ctrl-popup" >'+
	'<tr><td>Пуск: </td><td><img src="/images/start.png"  onclick="RCW(403,1,\'C351\',4,1,0,0,0);"></td></tr>'+
	'<tr><td>Стоп: </td><td><img src="/images/stop.png"  onclick="RCW(403,1,\'C351\',4,0,0,0,0);"></td></tr>'+
	'</table><br/>' 
	);
	rect.bindTooltip('Управление6');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	
	
	bounds=FlipLL([[8.354782456550952,18.573646990387566,0],[8.195800952838377,18.507794695383346,0],[8.059280440610928,18.403038821938516,0],[7.954524567166097,18.266518309711067,0],[7.888672272161879,18.107536805998492,0],[7.866211280676751,17.936928637549443,0],[7.888672272161879,17.766320469100393,0],[7.954524567166097,17.607338965387818,0],[8.059280440610928,17.47081845316037,0],[8.195800952838377,17.36606257971554,0],[8.354782456550952,17.30021028471132,0],[8.525390625000002,17.277749293226194,0],[8.695998793449052,17.30021028471132,0],[8.854980297161628,17.36606257971554,0],[8.991500809389075,17.47081845316037,0],[9.096256682833907,17.607338965387818,0],[9.162108977838123,17.766320469100393,0],[9.184569969323253,17.936928637549443,0],[9.162108977838123,18.107536805998492,0],[9.096256682833907,18.266518309711067,0],[8.991500809389075,18.403038821938516,0],[8.854980297161628,18.507794695383346,0],[8.695998793449052,18.573646990387566,0],[8.354782456550952,18.573646990387566,0]]);
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.27';
	rect.bindPopup(
	'<h3>Управление 7</h3><hr/>'+
	'<table class ="ctrl-popup" >'+
	'<tr><td>Пуск: </td><td><img src="/images/start.png"  onclick="RCW(403,1,\'C351\',6,1,0,0,0);"></td></tr>'+
	'<tr><td>Стоп: </td><td><img src="/images/stop.png"  onclick="RCW(403,1,\'C351\',6,0,0,0,0);"></td></tr>'+
	'</table><br/>' 
	);
	rect.bindTooltip('Управление 7');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	 
	
	bounds=FlipLL([[18.524422779431756,16.947202810436433,0],[18.341518615045377,16.871441424933074,0],[18.184455248380374,16.750922464868186,0],[18.063936288315485,16.593859098203183,0],[17.988174902812126,16.410954933816804,0],[17.96233410509075,16.214674588248556,0],[17.988174902812126,16.01839424268031,0],[18.063936288315485,15.83549007829393,0],[18.184455248380374,15.678426711628928,0],[18.341518615045377,15.557907751564036,0],[18.524422779431756,15.48214636606068,0],[18.720703125000004,15.456305568339303,0],[18.91698347056825,15.48214636606068,0],[19.09988763495463,15.557907751564036,0],[19.256951001619633,15.678426711628928,0],[19.377469961684525,15.83549007829393,0],[19.45323134718788,16.01839424268031,0],[19.479072144909257,16.214674588248556,0],[19.45323134718788,16.410954933816804,0],[19.377469961684525,16.593859098203183,0],[19.256951001619633,16.750922464868186,0],[19.09988763495463,16.871441424933074,0],[18.91698347056825,16.947202810436433,0],[18.524422779431756,16.947202810436433,0]]) ;
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.28';
	rect.bindPopup(
	'<h3>Управление 8</h3><hr/>'+
	'<table class ="ctrl-popup" >'+
	'<tr><td>Пуск: </td><td><img src="/images/start.png"  onclick="RCW(403,1,\'C351\',8,1,0,0,0);"></td></tr>'+
	'<tr><td>Стоп: </td><td><img src="/images/stop.png"  onclick="RCW(403,1,\'C351\',8,0,0,0,0);"></td></tr>'+
	'</table><br/>' 
	);
	rect.bindTooltip('Управление 8');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	
	
	bounds=FlipLL([[13.441064738595614,4.411874900466948,0],[13.271484384047485,4.341632417701076,0],[13.125862432273285,4.229892764062561,0],[13.014122778634771,4.084270812288361,0],[12.943880295868897,3.9146904577402335,0],[12.91992189309497,3.7327083213358465,0],[12.943880295868897,3.55072618493146,0],[13.014122778634771,3.381145830383332,0],[13.125862432273285,3.235523878609132,0],[13.271484384047485,3.1237842249706174,0],[13.441064738595614,3.053541742204745,0],[13.623046875,3.029583339430817,0],[13.805029011404388,3.053541742204745,0],[13.974609365952515,3.1237842249706174,0],[14.120231317726715,3.235523878609132,0],[14.231970971365229,3.381145830383332,0],[14.302213454131103,3.5507261849314595,0],[14.32617185690503,3.7327083213358465,0],[14.302213454131103,3.914690457740233,0],[14.231970971365229,4.084270812288361,0],[14.120231317726715,4.229892764062561,0],[13.974609365952515,4.341632417701075,0],[13.805029011404388,4.411874900466948,0],[13.441064738595614,4.411874900466948,0]]);
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.29';
	rect.bindPopup(
	'<h3>Управление 9</h3><hr/>'+
	'<table class ="ctrl-popup" >'+
	'<tr><td>Пуск: </td><td><img src="/images/start.png"  onclick="RCW(403,1,\'C351\',10,1,0,0,0);"></td></tr>'+
	'<tr><td>Стоп: </td><td><img src="/images/stop.png"  onclick="RCW(403,1,\'C351\',10,0,0,0,0);"></td></tr>'+
	'</table><br/>' 
	);
	rect.bindTooltip('Управление 9');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	
	//////////////
	
	bounds=FlipLL([[42.69960758406388,18.64981533895356,0],[42.5216076893526,18.576085368463165,0],[42.368755714532,18.45879792301744,0],[42.251468269086274,18.305945948196843,0],[42.177738298595884,18.127946053485562,0],[42.1525903787052,17.936928637549443,0],[42.177738298595884,17.745911221613323,0],[42.251468269086274,17.567911326902042,0],[42.368755714532,17.415059352081446,0],[42.5216076893526,17.29777190663572,0],[42.69960758406388,17.224041936145326,0],[42.890625,17.198894016254645,0],[43.08164241593612,17.224041936145326,0],[43.2596423106474,17.29777190663572,0],[43.412494285468,17.415059352081446,0],[43.529781730913726,17.567911326902045,0],[43.603511701404116,17.745911221613323,0],[43.6286596212948,17.936928637549443,0],[43.603511701404116,18.127946053485562,0],[43.529781730913726,18.30594594819684,0],[43.412494285468,18.45879792301744,0],[43.2596423106474,18.576085368463165,0],[43.08164241593612,18.64981533895356,0],[42.69960758406388,18.64981533895356,0]]) ;
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.30';
	rect.bindPopup(
	'<h3>Управление 10</h3><hr/>'+
	'<table class ="ctrl-popup" >'+
	'<tr><td>Пуск: </td><td><img src="/images/start.png"  onclick="RCW(403,1,\'C351\',12,1,0,0,0);"></td></tr>'+
	'<tr><td>Стоп: </td><td><img src="/images/stop.png"  onclick="RCW(403,1,\'C351\',12,0,0,0,0);"></td></tr>'+
	'</table><br/>' 
	);
	rect.bindTooltip('Управление 10');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	
	
	bounds=FlipLL([[52.90581437291153,16.929095992535842,0],[52.737966339266585,16.859571060582454,0],[52.5938319651761,16.748972865447364,0],[52.48323377004101,16.604838491356873,0],[52.413708838087615,16.436990457711932,0],[52.38999517853317,16.256867330623454,0],[52.413708838087615,16.076744203534975,0],[52.48323377004101,15.908896169890035,0],[52.5938319651761,15.764761795799544,0],[52.737966339266585,15.654163600664456,0],[52.90581437291153,15.584638668711065,0],[53.08593750000001,15.560925009156614,0],[53.266060627088486,15.584638668711065,0],[53.43390866073343,15.654163600664456,0],[53.57804303482392,15.764761795799544,0],[53.688641229959,15.908896169890035,0],[53.7581661619124,16.076744203534975,0],[53.781879821466845,16.256867330623454,0],[53.7581661619124,16.436990457711932,0],[53.688641229959,16.604838491356873,0],[53.57804303482392,16.748972865447364,0],[53.43390866073343,16.85957106058245,0],[53.266060627088486,16.929095992535842,0],[52.90581437291153,16.929095992535842,0]]);
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.31';
	rect.bindPopup(
	'<h3>Управление 11</h3><hr/>'+
	'<table class ="ctrl-popup" >'+
	'<tr><td>Пуск: </td><td><img src="/images/start.png"  onclick="RCW(403,1,\'C351\',14,1,0,0,0);"></td></tr>'+
	'<tr><td>Стоп: </td><td><img src="/images/stop.png"  onclick="RCW(403,1,\'C351\',14,0,0,0,0);"></td></tr>'+
	'</table><br/>' 
	);
	rect.bindTooltip('Управление 11');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	 
	
	bounds=FlipLL([[47.88140421826617,4.503442100478652,0],[47.69990965546998,4.428264591071494,0],[47.54405674113204,4.308674443744822,0],[47.42446659380537,4.152821529406884,0],[47.349289084398215,3.9713269666106936,0],[47.32364743593996,3.7765593098768635,0],[47.34928908439821,3.581791653143034,0],[47.42446659380537,3.400297090346843,0],[47.54405674113204,3.2444441760089053,0],[47.69990965546998,3.1248540286822326,0],[47.88140421826617,3.049676519275075,0],[48.076171875,3.024034870816822,0],[48.27093953173383,3.049676519275075,0],[48.45243409453002,3.124854028682233,0],[48.60828700886796,3.244444176008906,0],[48.72787715619463,3.400297090346843,0],[48.80305466560179,3.5817916531430334,0],[48.82869631406004,3.7765593098768635,0],[48.80305466560179,3.971326966610693,0],[48.72787715619463,4.152821529406884,0],[48.60828700886796,4.308674443744821,0],[48.45243409453002,4.4282645910714935,0],[48.27093953173383,4.503442100478652,0],[47.88140421826617,4.503442100478652,0]]) ;
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.32';
	rect.bindPopup(
	'<h3>Управление 12</h3><hr/>'+
	'<table class ="ctrl-popup" >'+
	'<tr><td>Пуск: </td><td><img src="/images/start.png"  onclick="RCW(403,1,\'C352\',0,1,0,0,0);"></td></tr>'+
	'<tr><td>Стоп: </td><td><img src="/images/stop.png"  onclick="RCW(403,1,\'C352\',0,0,0,0,0);"></td></tr>'+
	'</table><br/>' 
	);
	rect.bindTooltip('Управление 12');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	
	bounds=FlipLL([[-50.763311134218036,-3.227908562735452,0],[-50.93314710528525,-3.298256925330297,0],[-51.07898855994063,-3.4101650094534817,0],[-51.19089664406382,-3.5560064641088642,0],[-51.26124500665867,-3.7258424351760797,0],[-51.2852395230705,-3.90809888189411,0],[-51.26124500665867,-4.09035532861214,0],[-51.19089664406382,-4.260191299679356,0],[-51.07898855994063,-4.406032754334738,0],[-50.93314710528525,-4.517940838457923,0],[-50.763311134218036,-4.588289201052769,0],[-50.58105468750001,-4.612283717464601,0],[-50.39879824078198,-4.588289201052769,0],[-50.22896226971476,-4.517940838457923,0],[-50.08312081505938,-4.4060327543347375,0],[-49.971212730936195,-4.260191299679355,0],[-49.900864368341345,-4.09035532861214,0],[-49.87686985192951,-3.90809888189411,0],[-49.900864368341345,-3.72584243517608,0],[-49.971212730936195,-3.556006464108865,0],[-50.08312081505938,-3.4101650094534826,0],[-50.22896226971476,-3.2982569253302976,0],[-50.39879824078198,-3.2279085627354522,0],[-50.763311134218036,-3.227908562735452,0]]) ;
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.33';
	rect.bindPopup(
	'<h3>Управление 13</h3><hr/>'+
	'<table class ="ctrl-popup" >'+
	'<tr><td>Пуск: </td><td><img src="/images/start.png"  onclick="RCW(403,1,\'C352\',2,1,0,0,0);"></td></tr>'+
	'<tr><td>Стоп: </td><td><img src="/images/stop.png"  onclick="RCW(403,1,\'C352\',2,0,0,0,0);"></td></tr>'+
	'</table><br/>' 
	);
	rect.bindTooltip('Управление 13');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	
	bounds=FlipLL([[-40.57896662079222,-5.026050674341113,0],[-40.75902312827405,-5.100632521733619,0],[-40.913641156518054,-5.219275107633331,0],[-41.03228374241776,-5.37389313587733,0],[-41.10686558981027,-5.553949643359156,0],[-41.1323040690481,-5.747174076651375,0],[-41.10686558981027,-5.940398509943593,0],[-41.03228374241776,-6.120455017425421,0],[-40.913641156518054,-6.275073045669419,0],[-40.75902312827405,-6.3937156315691315,0],[-40.57896662079222,-6.468297478961637,0],[-40.38574218750001,-6.4937359581994665,0],[-40.19251775420779,-6.468297478961637,0],[-40.01246124672596,-6.3937156315691315,0],[-39.85784321848196,-6.275073045669418,0],[-39.73920063258225,-6.120455017425421,0],[-39.664618785189745,-5.940398509943593,0],[-39.63918030595192,-5.747174076651375,0],[-39.664618785189745,-5.553949643359157,0],[-39.73920063258225,-5.37389313587733,0],[-39.85784321848196,-5.219275107633332,0],[-40.01246124672596,-5.10063252173362,0],[-40.192517754207785,-5.026050674341114,0],[-40.57896662079222,-5.026050674341113,0]]) ;
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.34';
	rect.bindPopup(
	'<h3>Управление 14</h3><hr/>'+
	'<table class ="ctrl-popup" >'+
	'<tr><td>Пуск: </td><td><img src="/images/start.png"  onclick="RCW(403,1,\'C352\',4,1,0,0,0);"></td></tr>'+
	'<tr><td>Стоп: </td><td><img src="/images/stop.png"  onclick="RCW(403,1,\'C352\',4,0,0,0,0);"></td></tr>'+
	'</table><br/>' 
	);
	rect.bindTooltip('Управление 14');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	
	bounds=FlipLL([[-45.635394565964376,-17.372823602786653,0],[-45.81798292153557,-17.448454175995643,0],[-45.97477509702293,-17.568765043751025,0],[-46.09508596477831,-17.725557219238382,0],[-46.170716537987296,-17.908145574809573,0],[-46.19651271807113,-18.104087015773946,0],[-46.170716537987296,-18.300028456738318,0],[-46.09508596477831,-18.48261681230951,0],[-45.97477509702293,-18.639408987796866,0],[-45.81798292153557,-18.759719855552248,0],[-45.635394565964376,-18.835350428761238,0],[-45.43945312500001,-18.861146608845072,0],[-45.24351168403564,-18.835350428761238,0],[-45.06092332846445,-18.759719855552248,0],[-44.90413115297709,-18.639408987796866,0],[-44.7838202852217,-18.48261681230951,0],[-44.70818971201272,-18.300028456738318,0],[-44.68239353192888,-18.104087015773946,0],[-44.70818971201272,-17.908145574809573,0],[-44.7838202852217,-17.725557219238382,0],[-44.90413115297709,-17.568765043751025,0],[-45.06092332846444,-17.448454175995643,0],[-45.24351168403563,-17.372823602786653,0],[-45.635394565964376,-17.372823602786653,0]]);
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.35';
	rect.bindPopup(
	'<h3>Управление 15</h3><hr/>'+
	'<table class ="ctrl-popup" >'+
	'<tr><td>Пуск: </td><td><img src="/images/start.png"  onclick="RCW(403,1,\'C352\',6,1,0,0,0);"></td></tr>'+
	'<tr><td>Стоп: </td><td><img src="/images/stop.png"  onclick="RCW(403,1,\'C352\',6,0,0,0,0);"></td></tr>'+
	'</table><br/>' 
	);
	rect.bindTooltip('Управление 15');
	rect.on('contextmenu',function(event){ }); 
	rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	
	bounds=FlipLL([[-11.56409323683707,-3.1840611145451683,0],[-11.733930002418745,-3.2544098062386784,0],[-11.879772139339162,-3.3663184138822366,0],[-11.99168074698272,-3.512160550802653,0],[-12.062029438676229,-3.6819973163843276,0],[-12.086024067337489,-3.864254615721396,0],[-12.06202943867623,-4.046511915058463,0],[-11.99168074698272,-4.216348680640139,0],[-11.879772139339162,-4.362190817560555,0],[-11.733930002418745,-4.4740994252041135,0],[-11.56409323683707,-4.544448116897623,0],[-11.381835937500002,-4.568442745558882,0],[-11.199578638162933,-4.544448116897623,0],[-11.029741872581258,-4.4740994252041135,0],[-10.883899735660842,-4.362190817560555,0],[-10.771991128017284,-4.216348680640139,0],[-10.701642436323775,-4.046511915058464,0],[-10.677647807662515,-3.864254615721396,0],[-10.701642436323773,-3.681997316384328,0],[-10.771991128017284,-3.5121605508026534,0],[-10.883899735660842,-3.366318413882237,0],[-11.029741872581258,-3.254409806238679,0],[-11.199578638162933,-3.1840611145451687,0],[-11.56409323683707,-3.1840611145451683,0]]) ;
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.36';
		rect.bindPopup(
	'<h3>Управление 16</h3><hr/>'+
	'<table class ="ctrl-popup" >'+
	'<tr><td>Пуск: </td><td><img src="/images/start.png"  onclick="RCW(403,1,\'C352\',8,1,0,0,0);"></td></tr>'+
	'<tr><td>Стоп: </td><td><img src="/images/stop.png"  onclick="RCW(403,1,\'C352\',8,0,0,0,0);"></td></tr>'+
	'</table><br/>' 
	);
	rect.bindTooltip('Управление 16');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	
	bounds=FlipLL([[-1.4137658083388103,-5.019374047551147,0],[-1.5845714750645417,-5.090124071239123,0],[-1.731245626259546,-5.202671105889957,0],[-1.8437926609103794,-5.349345257084961,0],[-1.9145426845983562,-5.520150923810693,0],[-1.938674200129083,-5.703447982149503,0],[-1.9145426845983562,-5.886745040488313,0],[-1.8437926609103794,-6.057550707214044,0],[-1.731245626259546,-6.204224858409049,0],[-1.5845714750645417,-6.316771893059882,0],[-1.4137658083388103,-6.3875219167478585,0],[-1.23046875,-6.411653432278586,0],[-1.0471716916611897,-6.3875219167478585,0],[-0.8763660249354583,-6.316771893059881,0],[-0.7296918737404541,-6.204224858409049,0],[-0.617144839089621,-6.057550707214044,0],[-0.5463948154016443,-5.886745040488313,0],[-0.5222632998709174,-5.703447982149503,0],[-0.5463948154016443,-5.520150923810693,0],[-0.6171448390896208,-5.349345257084962,0],[-0.7296918737404539,-5.202671105889958,0],[-0.8763660249354579,-5.090124071239124,0],[-1.0471716916611888,-5.019374047551147,0],[-1.4137658083388103,-5.019374047551147,0]]) ;
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.37';
		rect.bindPopup(
	'<h3>Управление 17</h3><hr/>'+
	'<table class ="ctrl-popup" >'+
	'<tr><td>Пуск: </td><td><img src="/images/start.png"  onclick="RCW(403,1,\'C352\',10,1,0,0,0);"></td></tr>'+
	'<tr><td>Стоп: </td><td><img src="/images/stop.png"  onclick="RCW(403,1,\'C352\',10,0,0,0,0);"></td></tr>'+
	'</table><br/>' 
	);
	rect.bindTooltip('Управление 17');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	
	bounds=FlipLL([[-6.444835902097113,-17.29872901011412,0],[-6.635494173242568,-17.377702251801175,0],[-6.799216142335494,-17.50333053721123,0],[-6.924844427745553,-17.667052506304156,0],[-7.003817669432607,-17.85771077744961,0],[-7.0307539714851375,-18.062312304546726,0],[-7.003817669432608,-18.26691383164384,0],[-6.924844427745553,-18.457572102789296,0],[-6.799216142335494,-18.621294071882218,0],[-6.635494173242568,-18.746922357292277,0],[-6.444835902097113,-18.825895598979333,0],[-6.240234375,-18.852831901031863,0],[-6.035632847902886,-18.825895598979333,0],[-5.844974576757431,-18.746922357292277,0],[-5.681252607664506,-18.621294071882218,0],[-5.555624322254447,-18.457572102789296,0],[-5.476651080567392,-18.26691383164384,0],[-5.4497147785148625,-18.062312304546726,0],[-5.476651080567392,-17.85771077744961,0],[-5.555624322254447,-17.66705250630416,0],[-5.681252607664505,-17.503330537211234,0],[-5.84497457675743,-17.377702251801175,0],[-6.035632847902885,-17.29872901011412,0],[-6.444835902097113,-17.29872901011412,0]]) ;
	rect = L.polygon(bounds, {  color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 2 });
	rect.tag = '83.38';
	rect.bindPopup(
	'<h3>Управление 18</h3><hr/>'+
	'<table class ="ctrl-popup" >'+
	'<tr><td>Пуск: </td><td><img src="/images/start.png"  onclick="RCW(403,1,\'C352\',12,1,0,0,0);"></td></tr>'+
	'<tr><td>Стоп: </td><td><img src="/images/stop.png"  onclick="RCW(403,1,\'C352\',12,0,0,0,0);"></td></tr>'+
	'</table><br/>' 
	);
	rect.bindTooltip('Управление 18');
	rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
	rect.addTo(map);
	stanki.push(rect);
	
	
	
    function ReloadData() {

               function OnRequestReady(data) {

                $.each(data.data, function (i, v) {
                    var ok = false;
                    var rect;
                    var j;
                    for (j = 0; j < stanki.length; j++) {
                        if (stanki[j].tag == v.ID) {
                            ok = true;
                            rect = stanki[j];
                            break;
                        }
                    }

                    if (ok) {
						if(v.BLINK=='YES'){
							blink=true;
						}else{
							blink=false;
						}
					
						switch (v.COLOR) {
							case 'GREEN':
								 rgb = '#00FF00'; // green
								break;
							case 'YELLOW':
								rgb = '#dddd00';
								break;
							case 'RED':
								 rgb = '#FF0000'; //red
								break;
							case 'BLUE':
								 rgb = '#0000FF'; //blue
								break;
								
							default:
								rgb = '#000000'; //black
								break;
						}
                        rect.setStyle({ color: rgb, opacity: 1.0, fillOpacity: 0.5, weight: 1 });
                       // //rect.bindPopup(sPopup);
                       // rect.marker.bindPopup(sPopup);
                        rect.on('contextmenu',function(event){ }); 
 rect.blink = blink;
					}
					if(v.INFO !=null){
						var item=document.getElementById('v' +v.ID);
						if( item!=null){
							item.innerHTML =v.INFO;
						}else{
							console.log(v.ID);
						}
					}
               
				});
			 }
           $.ajax({
                dataType: "json",
                url: 'l283.aspx',
                success: OnRequestReady
            });
        }
        var blinkMode = false;
        function Blinker() {
            blinkMode = !blinkMode;


            var j;
            for (j = 0; j < stanki.length; j++) {

                rect = stanki[j];
                if (rect.blink == true) {
                    if (blinkMode) {
                        rect.setStyle({  fillOpacity: 0.1 });
                    } else {
                        rect.setStyle({  fillOpacity: 0.5 });
                    }
                }
               
            }
           

        }

        ReloadData();
		var intervalID = window.setInterval(ReloadData, 1000);
		var intervalID2 = window.setInterval(Blinker, 500);
   

</script>
 
</body>
</html>
